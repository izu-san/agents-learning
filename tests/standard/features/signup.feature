Feature: 会員登録

	@signup @smoke @visual
	Scenario: 会員登録の正常系（必須項目のみ）
		Given 新しいブラウザ状態で会員登録ページを開く
		Then 必須項目が表示される
		When 必須項目で会員登録する
		Then マイページに遷移する
		And 登録したメールと氏名が表示される
		And 画面全体のビジュアルスナップショットを保存・比較する

	@signup @negative
	Scenario: 会員登録の入力検証（必須/形式/一致）
		Given 新しいブラウザ状態で会員登録ページを開く
		When 必須項目を空で登録する
		Then 会員登録ページのままである
		And 必須入力のバリデーションが表示される
		When パスワードを8文字未満にして登録する
		Then 会員登録ページのままである
		And パスワード要件のエラーが表示される
		When パスワード確認を不一致にして登録する
		Then 会員登録ページのままである
		And 不一致エラーが表示される
		When 電話番号に11桁以外または非数字を入力して登録する
		Then 会員登録ページのままである
		And 電話番号形式エラーが表示される

	@signup @edge
	Scenario: 入力上限・長文・改行・絵文字
		Given 新しいブラウザ状態で会員登録ページを開く
		When 長文の氏名と住所で登録する
		Then バリデーションが正しく適用される
		When 住所に改行や絵文字を含めて登録する
		Then 入力が崩れず表示される

	@signup @new-field @optional
	Scenario: 【追加】性別・年齢の表示と入力（任意項目）
		Given 新しいブラウザ状態で会員登録ページを開く
		Then 【追加】性別のセレクトが表示され初期値が未回答である
		And 【追加】年齢の入力欄が表示される
		When 【追加】性別を女性に変更し年齢を入力して登録する
		Then マイページに遷移する
		And 【追加】マイページに性別と年齢が表示される
		When 【追加】性別と年齢を未入力のまま必須項目で登録する
		Then マイページに遷移する
		And 【追加】性別は未回答で年齢は未登録と表示される
